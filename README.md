# 新房风背景生成器 - Shinbo Style Background Generator

## 改进内容

### 🎯 新增功能
1. **文字方向控制**：支持水平（左→右）、垂直（上→下）、水平（右→左）三种文字排列方式
2. **翻转效果**：支持水平翻转、垂直翻转以及组合翻转效果
3. **旋转角度**：支持8个方向的旋转（0°、45°、90°、135°、180°、225°、270°、315°）
4. **模块化界面**：将功能分为三个独立的标签页

### 📐 界面重构
程序现在分为三个标签页：

#### 1. 背景设置
- 图片尺寸设置（宽度、高度）
- 颜色配置（主背景色、边框色）
- 边框设置（可调节边框高度）
- 横线效果（密度、透明度、颜色可调）
- 快速预设样式

#### 2. 文字设置
- 多层文字管理（无限叠加不同样式的文字层）
- 文字层操作（新增、编辑、删除、排序）
- 完整的文字属性设置：
  - 文字内容和大小
  - 颜色选择
  - 字体文件支持（.ttf, .ttc, .otf）
  - 位置偏移（水平、垂直）
  - **NEW** 文字方向（水平左右、垂直、水平右左）
  - **NEW** 翻转效果（无、水平、垂直、组合）
  - **NEW** 旋转角度（8个方向）
- 快速样式预设

#### 3. 预览和保存
- 实时预览生成的图像
- 可调节预览缩放比例（10%-100%）
- 图像信息显示（尺寸、文字层数、文件大小估计）
- 多格式保存（PNG、JPEG，可调质量）
- 批量保存常用尺寸（Full HD、HD、4K、手机竖屏）

### 🛠 技术改进
- **模块化代码**：拆分为6个独立模块，便于维护和扩展
- **更好的用户体验**：标签页界面，逻辑清晰
- **实时预览**：切换到预览标签页时自动生成预览
- **错误处理**：完善的异常处理和用户提示

## 使用流程

1. **第一步**：在"背景设置"中配置基础背景
   - 设置图片尺寸
   - 选择颜色搭配
   - 调整边框和横线效果

2. **第二步**：在"文字设置"中添加和编辑文字层
   - 点击"新增文字层"添加文字
   - 在弹出的对话框中设置文字属性
   - 可以添加多个文字层并调整顺序

3. **第三步**：在"预览和保存"中查看效果并保存
   - 程序会自动生成预览
   - 调整预览缩放比例查看细节
   - 选择保存格式并保存图片

## 新文字效果组合示例

- **标准水平文字**：方向=水平(左→右) + 翻转=无 + 旋转=0°
- **垂直书法风格**：方向=垂直(上→下) + 翻转=无 + 旋转=0°
- **镜像效果**：方向=水平(左→右) + 翻转=水平翻转 + 旋转=0°
- **倾斜艺术字**：方向=水平(左→右) + 翻转=无 + 旋转=45°
- **复合效果**：方向=垂直(上→下) + 翻转=水平翻转 + 旋转=90°

## 文件结构

```
shaft_maker/
├── main.py                 # 主程序入口
├── image_generator.py      # 图像生成核心逻辑
├── background_tab.py       # 背景设置标签页
├── text_tab.py            # 文字设置标签页
├── text_layer_dialog.py   # 文字层编辑对话框
├── preview_tab.py         # 预览和保存标签页
└── requirements.txt       # 依赖包列表
```

## 依赖

确保安装以下Python包：
```bash
pip install pillow tkinter
```

## 运行

```bash
python main.py
``` 